<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Fine-grained PAT Helper</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        github: {
                            blue: '#0969da',
                            green: '#2ea44f',
                            darkgreen: '#2c974b',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Hero Section -->
    <div class="bg-gradient-to-r from-github-blue to-blue-700 text-white">
        <div class="max-w-6xl mx-auto px-4 py-12">
            <h1 class="text-4xl font-bold mb-4">GitHub Fine-grained PAT Helper</h1>
            <p class="text-xl opacity-90">Automate token creation with smart URL parameters</p>
        </div>
    </div>

    <div class="max-w-6xl mx-auto px-4 py-8">
        <!-- Quick Start Section -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                <span class="text-3xl mr-3">🚀</span> Quick Start
            </h2>
            
            <div class="text-center mb-8">
                <p class="text-lg text-gray-600 mb-4">Drag this button to your bookmarks bar:</p>
                <a href="<!--BOOKMARKLET_URL-->" class="inline-block bg-github-blue hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg text-lg transition-colors duration-200 transform hover:scale-105">
                    GitHub PAT Helper
                </a>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">How it works:</h3>
                    <ol class="space-y-3 text-gray-600">
                        <li class="flex items-start">
                            <span class="bg-github-blue text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">1</span>
                            <span>Navigate to <a href="https://github.com/settings/personal-access-tokens/new" target="_blank" class="text-github-blue hover:underline">GitHub's PAT creation page</a></span>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-github-blue text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">2</span>
                            <span>Click the bookmarklet in your bookmarks bar</span>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-github-blue text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0">3</span>
                            <div>
                                <p class="mb-2">The bookmarklet automatically:</p>
                                <ul class="space-y-2 ml-4">
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">✓</span>
                                        <span><strong>URL has parameters & form is empty:</strong> Applies configuration</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">✓</span>
                                        <span><strong>Form has values:</strong> Saves to URL & copies link</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-green-500 mr-2">✓</span>
                                        <span><strong>Both empty:</strong> Loads helper functions</span>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ol>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Typical workflows:</h3>
                    <div class="space-y-4">
                        <div class="bg-blue-50 border-l-4 border-github-blue p-4 rounded">
                            <h4 class="font-semibold text-gray-800 mb-1">Apply shared configuration:</h4>
                            <p class="text-gray-600">Visit URL with parameters → Click bookmarklet → Auto-applied!</p>
                        </div>
                        <div class="bg-green-50 border-l-4 border-github-green p-4 rounded">
                            <h4 class="font-semibold text-gray-800 mb-1">Share your configuration:</h4>
                            <p class="text-gray-600">Fill form → Click bookmarklet → URL copied to clipboard!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preset Configurations -->
        <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
            <span class="text-3xl mr-3">📋</span> Preset Configurations
        </h2>

        <div class="grid md:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">LLM Agent Token (1 day) 🤖</h3>
                <p class="text-gray-600 mb-4">Short-lived token for AI agents with minimal permissions to reduce risk if exposed.</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=LLM+Agent+Token&description=Short-lived+token+for+AI+agent+tasks&expiration=1&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,metadata:read</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=LLM+Agent+Token&description=Short-lived+token+for+AI+agent+tasks&expiration=1&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,metadata:read" target="_blank" class="bg-github-green hover:bg-github-darkgreen text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">Read All Permissions</h3>
                <p class="text-gray-600 mb-4">Read access to all available permissions for comprehensive monitoring or backup.</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=Read+All+Token&description=Read+access+to+all+permissions&expiration=30&repo_access=all&permissions=actions:read,administration:read,attestations:read,security_events:read,codespaces:read,codespaces_lifecycle_admin:read,codespaces_metadata:read,statuses:read,contents:read,repository_custom_properties:read,vulnerability_alerts:read,dependabot_secrets:read,deployments:read,discussions:read,environments:read,issues:read,merge_queues:read,metadata:read,pages:read,pull_requests:read,repository_advisories:read,secret_scanning_alerts:read,secrets:read,actions_variables:read,repository_hooks:read,blocking:read,codespaces_user_secrets:read,copilot_messages:read,copilot_editor_context:read,emails:read,user_events:read,followers:read,gpg_keys:read,keys:read,interaction_limits:read,knowledge_bases:read,user_models:read,plan:read,private_repository_invitations:read,git_signing_ssh_public_keys:read,starring:read,watching:read</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=Read+All+Token&description=Read+access+to+all+permissions&expiration=30&repo_access=all&permissions=actions:read,administration:read,attestations:read,security_events:read,codespaces:read,codespaces_lifecycle_admin:read,codespaces_metadata:read,statuses:read,contents:read,repository_custom_properties:read,vulnerability_alerts:read,dependabot_secrets:read,deployments:read,discussions:read,environments:read,issues:read,merge_queues:read,metadata:read,pages:read,pull_requests:read,repository_advisories:read,secret_scanning_alerts:read,secrets:read,actions_variables:read,repository_hooks:read,blocking:read,codespaces_user_secrets:read,copilot_messages:read,copilot_editor_context:read,emails:read,user_events:read,followers:read,gpg_keys:read,keys:read,interaction_limits:read,knowledge_bases:read,user_models:read,plan:read,private_repository_invitations:read,git_signing_ssh_public_keys:read,starring:read,watching:read" target="_blank" class="bg-github-green hover:bg-github-darkgreen text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-red-700 mb-2">Write All Permissions ⚠️</h3>
                <p class="text-gray-600 mb-4">Full write access to all permissions (use with extreme caution!).</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=Write+All+Token&description=Full+write+access+-+use+with+caution&expiration=7&repo_access=selected&permissions=actions:write,administration:write,attestations:write,security_events:write,codespaces:write,codespaces_lifecycle_admin:write,codespaces_secrets:write,statuses:write,contents:write,repository_custom_properties:write,vulnerability_alerts:write,dependabot_secrets:write,deployments:write,discussions:write,environments:write,issues:write,merge_queues:write,metadata:read,pages:write,pull_requests:write,repository_advisories:write,secret_scanning_alerts:write,secrets:write,actions_variables:write,repository_hooks:write,workflows:write,blocking:write,codespaces_user_secrets:write,emails:write,followers:write,gpg_keys:write,gists:write,keys:write,interaction_limits:write,knowledge_bases:write,profile:write,git_signing_ssh_public_keys:write,starring:write,watching:write</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=Write+All+Token&description=Full+write+access+-+use+with+caution&expiration=7&repo_access=selected&permissions=actions:write,administration:write,attestations:write,security_events:write,codespaces:write,codespaces_lifecycle_admin:write,codespaces_secrets:write,statuses:write,contents:write,repository_custom_properties:write,vulnerability_alerts:write,dependabot_secrets:write,deployments:write,discussions:write,environments:write,issues:write,merge_queues:write,metadata:read,pages:write,pull_requests:write,repository_advisories:write,secret_scanning_alerts:write,secrets:write,actions_variables:write,repository_hooks:write,workflows:write,blocking:write,codespaces_user_secrets:write,emails:write,followers:write,gpg_keys:write,gists:write,keys:write,interaction_limits:write,knowledge_bases:write,profile:write,git_signing_ssh_public_keys:write,starring:write,watching:write" target="_blank" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">Development Token</h3>
                <p class="text-gray-600 mb-4">For local development with ability to push code and manage issues/PRs.</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=Development+Token&description=Local+development+access&expiration=7&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,metadata:read</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=Development+Token&description=Local+development+access&expiration=7&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,metadata:read" target="_blank" class="bg-github-green hover:bg-github-darkgreen text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">LLM Agent Token (7 days) 🤖</h3>
                <p class="text-gray-600 mb-4">Weekly token for AI agents working on longer tasks, still limited to minimize exposure risk.</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=LLM+Agent+Token+-+Weekly&description=Limited+token+for+AI+agent+longer+tasks&expiration=7&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,discussions:write,metadata:read</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=LLM+Agent+Token+-+Weekly&description=Limited+token+for+AI+agent+longer+tasks&expiration=7&repo_access=selected&permissions=contents:write,issues:write,pull_requests:write,discussions:write,metadata:read" target="_blank" class="bg-github-green hover:bg-github-darkgreen text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-2">Minimal Token</h3>
                <p class="text-gray-600 mb-4">Minimal access for testing or verification purposes.</p>
                <div class="bg-gray-100 rounded p-3 mb-4 overflow-x-auto">
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=Minimal+Token&description=Minimal+access+for+testing&expiration=1&repo_access=none&permissions=metadata:read</code>
                </div>
                <div class="flex space-x-3">
                    <a href="https://github.com/settings/personal-access-tokens/new?name=Minimal+Token&description=Minimal+access+for+testing&expiration=1&repo_access=none&permissions=metadata:read" target="_blank" class="bg-github-green hover:bg-github-darkgreen text-white font-semibold py-2 px-4 rounded transition-colors">
                        Open Configuration
                    </a>
                    <button onclick="copyToClipboard(this.parentElement.previousElementSibling.querySelector('code').textContent)" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded transition-colors">
                        Copy URL
                    </button>
                </div>
            </div>
        </div>

        <!-- Usage Guide -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                <span class="text-3xl mr-3">📚</span> Usage Guide
            </h2>

            <div class="mb-8">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Available Functions</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setTokenName(name)</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setTokenDescription(description)</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setPermission(resource, level)</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setMultiplePermissions({...})</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setRepositoryAccess(type)</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.selectRepositories([...])</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setExpiration(days)</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.setResourceOwner(owner)</code>
                    </div>
                    <div class="space-y-2">
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getTokenName()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getTokenDescription()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getCurrentPermissions()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.listAvailablePermissions()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getRepositoryAccess()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getSelectedRepositories()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getExpiration()</code>
                        <code class="block bg-gray-100 p-2 rounded text-sm">ghPat.getResourceOwner()</code>
                    </div>
                </div>
                <div class="mt-4 space-y-2">
                    <code class="block bg-blue-100 p-2 rounded text-sm text-blue-800">ghPat.applyFromUrlParams() - Apply configuration from URL</code>
                    <code class="block bg-blue-100 p-2 rounded text-sm text-blue-800">ghPat.generateConfigUrl() - Generate URL with current config</code>
                    <code class="block bg-blue-100 p-2 rounded text-sm text-blue-800">ghPat.copyConfigUrl() - Copy config URL to clipboard</code>
                    <code class="block bg-blue-100 p-2 rounded text-sm text-blue-800">ghPat.updateUrlParams() - Update URL without reload</code>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-semibold text-gray-800 mb-4">URL Parameter Configuration</h3>
                <p class="text-gray-600 mb-4">You can share token configurations using URL parameters. The tool will automatically detect and apply them.</p>
                
                <div class="bg-gray-100 rounded p-4 mb-4">
                    <h4 class="font-semibold text-gray-800 mb-2">Example URL:</h4>
                    <code class="text-sm text-gray-800 break-all">https://github.com/settings/personal-access-tokens/new?name=CI+Token&expiration=30&repo_access=all&permissions=contents:read,metadata:read</code>
                </div>

                <h4 class="font-semibold text-gray-800 mb-3">Supported Parameters:</h4>
                <div class="space-y-2 text-gray-600">
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">name</code>
                        <span>Token name</span>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">description</code>
                        <span>Token description</span>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">owner</code>
                        <span>Resource owner</span>
                    </div>
                    <div class="flex items-start">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">expiration</code>
                        <div>
                            <p>Expiration days</p>
                            <ul class="mt-1 text-sm space-y-1">
                                <li>• Standard: 7, 30, 60, 90</li>
                                <li>• Special: "custom", "none"</li>
                                <li>• Any number (e.g., 1, 14, 365) - auto-converted to date</li>
                            </ul>
                        </div>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">expiration_date</code>
                        <span>Custom date (YYYY-MM-DD)</span>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">repo_access</code>
                        <span>Repository access (none, all, selected)</span>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">repos</code>
                        <span>Comma-separated repositories</span>
                    </div>
                    <div class="flex">
                        <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono mr-3">permissions</code>
                        <span>Format: resource:level,resource:level</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // Create a temporary toast notification
                const toast = document.createElement('div');
                toast.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 translate-y-full';
                toast.textContent = 'URL copied to clipboard!';
                document.body.appendChild(toast);
                
                // Animate in
                setTimeout(() => {
                    toast.classList.remove('translate-y-full');
                }, 100);
                
                // Animate out and remove
                setTimeout(() => {
                    toast.classList.add('translate-y-full');
                    setTimeout(() => {
                        document.body.removeChild(toast);
                    }, 300);
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
                alert('Failed to copy to clipboard. Please copy manually.');
            });
        }
    </script>
</body>
</html>